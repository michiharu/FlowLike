var ae=Object.defineProperty,le=Object.defineProperties;var de=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var wt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable;var yt=(t,n,e)=>n in t?ae(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,d=(t,n)=>{for(var e in n||(n={}))wt.call(n,e)&&yt(t,e,n[e]);if(j)for(var e of j(n))xt.call(n,e)&&yt(t,e,n[e]);return t},p=(t,n)=>le(t,de(n));var mt=(t,n)=>{var e={};for(var o in t)wt.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&j)for(var o of j(t))n.indexOf(o)<0&&xt.call(t,o)&&(e[o]=t[o]);return e};import{c as he,a as Q,b as vt,d as Et,u as V,j as c,I as S,A as X,e as b,F as Y,R as tt,T as bt,r as I,B as P,S as pe,K as ue,f as It,g as et,h as fe,E as Ct,G as ge,H as Bt,i as nt,C as we,k as xe,l as ye,m as me,s as ve,n as Pt,o as Ee,P as ot,L as be,p as Ie,q as zt,t as Ce,v as Be,w as Mt,x as Pe,y as ze,z as Rt,D as H,J as it,M as Tt,N as Me,O as Re,Q as Te,U as ke,V as Ae,W,X as rt,Y as st,Z as Fe,_ as Oe,$ as Z,a0 as Se,a1 as $e,a2 as Le,a3 as De,a4 as Ne,a5 as Ke,a6 as Ge,a7 as Je,a8 as je}from"./vendor.b47d06f5.js";const He=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}};He();const ct={path:"/"},kt="/flow/:id",q={path:kt,url:t=>`/flow/${t.id}`,matchSelector:he(kt)},at={palette:{mode:"dark"},typography:{button:{textTransform:"none"}}},We=Q(at),At=Q(p(d({},at),{typography:{fontSize:10}}));Q(p(d({},at),{typography:{fontSize:13}}));const lt={stagePadding:16,indent:2,m:40,card:{width:240,height:94}},Ze=()=>null,dt=()=>{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let n=0,e=t.length;n<e;n+=1)switch(t[n]){case"x":t[n]=Math.floor(Math.random()*16).toString(16);break;case"y":t[n]=(Math.floor(Math.random()*4)+8).toString(16);break}return t.join("")},{card:g,indent:A,m:f,stagePadding:Ft}=lt,Ot=(t,n=[],e={})=>{const{flowIndex:o=0,type:s="task",direction:r="vertical",open:i=!0,text:l=""}=e;return{id:t,childIds:n,flowIndex:o,type:s,direction:r,open:i,text:l}},St=(t,n,e)=>{const o=n[t];if(!o)throw new Error;const{direction:s,childIds:r}=o,i=o.childIds.map((l,a)=>St(l,n,{id:t,direction:s,childIds:r,index:a}));return p(d({},o),{children:i,parent:e,tree:void 0,point:void 0,addable:void 0})},$t=t=>{const{direction:n}=t;if(!t.open)return p(d({},t),{tree:g});if(t.children.length===0){const r=n==="vertical"?A*f+g.width:g.width+f,i=n==="horizontal"?A*f+g.height:g.height+f;return p(d({},t),{tree:{width:r,height:i}})}const e=t.children.map(r=>$t(r)),o=n==="vertical"?A*f+Math.max(...e.map(r=>r.tree.width))+f:g.width+f+e.map(r=>r.tree.width+f).reduce((r,i)=>r+i),s=n==="horizontal"?A*f+Math.max(...e.map(r=>r.tree.height))+f:g.height+f+e.map(r=>r.tree.height+f).reduce((r,i)=>r+i);return p(d({},t),{tree:{width:o,height:s},children:e})},Lt=(t,n)=>{const{direction:e}=t;if(!t.open||t.children.length===0)return p(d({},t),{point:n});let o=0;const s=t.children.map(r=>{const i=n.x+(e==="vertical"?A*f:g.width+f+o),l=n.y+(e==="horizontal"?A*f:g.height+f+o);return o+=(e==="vertical"?r.tree.height:r.tree.width)+f,Lt(r,{x:i,y:l})});return p(d({},t),{point:n,children:s})},Dt=(t,n,e=0)=>{if(!t.point||!t.tree)return t;const o=[],s=[];if(t.open){const{id:i,point:l,direction:a,childIds:v,tree:u}=t,E={id:i,direction:a,childIds:v,index:0},h=l.x+(a==="vertical"?A*f+g.width/2:g.width+f/2),w=l.y+(a==="horizontal"?A*f+g.height/2:g.height+f/2);o.push({parent:E,left:h,top:w});const R=l.x+(a==="vertical"?0:g.width/2),M=l.y+(a==="horizontal"?0:g.height/2),T=a==="vertical"?u.width:g.width+f,k=a==="horizontal"?u.height:g.height+f;s.push({parent:E,from:i,depth:e+1,x:R,y:M,width:T,height:k})}if(n){const{id:i,point:l,direction:a,childIds:v,tree:u}=n;if(!l||!u)throw new Error;const E={id:i,direction:a,childIds:v,index:v.indexOf(t.id)+1},h=t.point.x+(a==="vertical"?g.width/2:t.tree.width+f/2),w=t.point.y+(a==="horizontal"?g.height/2:t.tree.height+f/2);o.push({parent:E,left:h,top:w});const R=a==="vertical"?l.x:t.point.x+t.tree.width-g.width*.5,M=a==="horizontal"?l.y:t.point.y+t.tree.height-g.height*.5,T=a==="vertical"?u.width:g.width+f,k=a==="horizontal"?u.height:g.height+f;s.push({parent:E,from:t.id,depth:e,x:R,y:M,width:T,height:k})}const r=t.children.map(i=>Dt(i,t,e+1));return p(d({},t),{addable:{points:o,zones:s},children:r})},Nt=t=>{const o=t,{children:n}=o,e=mt(o,["children"]);return[e].concat(n.flatMap((s,r)=>{const{id:i,direction:l,childIds:a}=e;return Nt(p(d({},s),{parent:{id:i,direction:l,childIds:a,index:r}}))}))},z=(t,n)=>{const{flow:e}=t;if(!e)throw new Error;const{rootId:o}=e;if(!t.entities[o])throw new Error;let s=St(o,t.entities);s=$t(s),s=Lt(s,{x:Ft,y:Ft}),s=Dt(s,void 0);const r=Nt(s).map((i,l)=>p(d({},i),{flowIndex:l}));t.addablePoints=r.flatMap(i=>{var l,a;return(a=(l=i.addable)==null?void 0:l.points)!=null?a:[]}),t.dropZones=r.flatMap(i=>{var l,a;return(a=(l=i.addable)==null?void 0:l.zones)!=null?a:[]}).sort((i,l)=>l.depth-i.depth),r.forEach(i=>delete i.addable),n.setAll(t,r)},y=vt(),qe=y.getInitialState({addablePoints:[],dropZones:[]}),m=Et({name:"flow-entity",initialState:qe,reducers:{setFlow(t,{payload:n}){y.removeAll(t),t.selected=void 0;const{id:e,title:o,rootId:s,entities:r}=n;t.flow={id:e,title:o,rootId:s},y.setAll(t,r),z(t,y)},add(t,{payload:n}){const e=t.entities[n.id];if(!e)throw new Error;const o=dt();e.childIds.splice(n.index,0,o);const s=Ot(o,[],{open:!1});y.addOne(t,s),z(t,y)},update(t,{payload:n}){y.updateOne(t,n),z(t,y)},delete(t,{payload:n}){const e=t.entities[n.id];if(!e)throw new Error;const o=e.childIds.splice(n.index,1)[0];y.removeOne(t,o),t.selected=void 0,z(t,y)},select(t,{payload:n}){n?t.selected={id:n,status:"selected"}:t.selected=void 0,z(t,y)},editStart(t){if(!t.selected)throw new Error;t.selected.status="editing",z(t,y)},editEnd(t){if(!t.selected)throw new Error;t.selected.status="selected",z(t,y)},dragStart(t){if(!t.selected)throw new Error;t.selected.status="dragging";const{id:n}=t.selected;y.updateOne(t,{id:n,changes:{open:!1}}),z(t,y)},dragEnter(t,{payload:n}){if(!t.selected)throw new Error;const e=t.entities[t.selected.id];if(!e||!e.parent)throw new Error;if(e.parent.id===n.id){const o=t.entities[n.id];if(!o)throw new Error;e.parent.index<n.index?(o.childIds.splice(n.index,0,e.id),o.childIds.splice(e.parent.index,1)):(o.childIds.splice(e.parent.index,1),o.childIds.splice(n.index,0,e.id))}else{const o=t.entities[n.id];if(!o)throw new Error;o.childIds.splice(n.index,0,e.id);const s=t.entities[e.parent.id];if(!s)throw new Error;s.childIds.splice(e.parent.index,1)}z(t,y)},dragEnd(t){if(!t.selected)throw new Error;t.selected.status="moving",z(t,y)},finishMoving(t){if(!t.selected)throw new Error;t.selected.status="selected",z(t,y)}}}),Kt=y.getSelectors(t=>t.entity),Ue=({point:t})=>{const n=V(),{parent:e,top:o,left:s}=t;return c(S,{size:"small",sx:{position:"absolute",left:s,top:o,transform:"translate3d(-50%, -50%, 0)"},onClick:()=>n(m.actions.add(e)),children:c(X,{fontSize:"inherit"})})},_e=({zone:t,selectedStatus:n})=>{const{x:e,y:o,width:s,height:r,parent:i,from:l}=t,a=i.childIds[i.index]===(n==null?void 0:n.id),v=i.childIds.length!==0&&i.childIds[i.index-1]===(n==null?void 0:n.id),u=a||v?"#ff02":"#00ff5510";return b(Y,{children:[c(tt,p(d({},{x:e,y:o,width:s,height:r}),{fill:u})),c(bt,{x:e+5,y:o+5,text:`${l.slice(0,8)}`,fill:"#fff"})]})},Qe=({stageSize:t,children:n,refs:e})=>{const[o,s]=I.exports.useState({width:0,height:0}),r=I.exports.useRef(),i=I.exports.useRef(),l=I.exports.useCallback(u=>{if(u){r.current=u,i.current&&e&&e(u,i.current);const{width:E,height:h}=u.getBoundingClientRect();s({width:E,height:h})}},[]),a=I.exports.useCallback(u=>{u&&(i.current=u,r.current&&e&&e(r.current,u))},[]);I.exports.useEffect(()=>{const u=()=>{if(r.current){const{width:h,height:w}=r.current.getBoundingClientRect();s({width:h,height:w})}};window.addEventListener("resize",u),u();const E=()=>{if(r.current&&i.current){const h=r.current.scrollLeft,w=r.current.scrollTop;i.current.container().style.transform=`translate(${h}px, ${w}px)`,i.current.x(-h),i.current.y(-w)}};return r.current&&r.current.addEventListener("scroll",E),()=>window.removeEventListener("resize",u)},[]);const v={width:Math.max(t.width,o.width)+o.width,height:Math.max(t.height,o.height)+o.width};return c(P,{ref:l,sx:{width:"100%",height:"100%",overflow:"auto"},children:c(P,{sx:p(d({},v),{overflow:"hidden"}),children:c(pe,p(d({ref:a},o),{children:n}))})})},{card:C}=lt,U=7,$=4,ht="#444a",pt=ue.Easings.EaseOut,Ve=t=>{if(t.length<2)return;const n=t[0],e=t[t.length-1],o=(n.time-e.time)/400;return{x:(n.x-e.x)/o,y:(n.y-e.y)/o}},Xe=({entity:t,dropZones:n,selectedStatus:e})=>{const o=V(),{id:s,parent:r,point:i,tree:l,open:a,direction:v,childIds:u,text:E}=t,h=I.exports.useRef(null),w=I.exports.useRef(),R=I.exports.useRef([]);!w.current&&i&&(w.current=i);const M=(e==null?void 0:e.id)===s&&e.status==="selected",T=(e==null?void 0:e.id)===s&&e.status==="editing",k=(e==null?void 0:e.id)===s&&e.status==="dragging",Jt=(e==null?void 0:e.id)===s&&e.status==="moving";if(I.exports.useEffect(()=>{var B;if(!w.current||!i||k)return;(w.current.x!==i.x||w.current.y!==i.y)&&((B=h.current)==null||B.to(p(d({},i),{easing:pt})),w.current=i)},[i]),I.exports.useEffect(()=>{let x;const B=()=>{if(h.current&&w.current){const N=h.current.x()-w.current.x,K=h.current.y()-w.current.y,F=Date.now();R.current=R.current.concat({x:N,y:K,time:F}).sort((G,J)=>J.time-G.time).slice(0,12)}};return k?x||(x=window.setInterval(B,60)):R.current=[],()=>window.clearInterval(x)},[k]),!i||!l)return null;const jt=p(d({},w.current),{ref:h,draggable:Boolean(r),onMouseEnter(){(!e||e.status==="selected"&&(e==null?void 0:e.id)!==s)&&(o(m.actions.select(s)),a||(document.body.style.cursor="grab"))},onMouseLeave(){document.body.style.cursor="default"},onMouseDown(){!a&&Boolean(r)&&(document.body.style.cursor="grabbing")},onMouseUp(){if(!a&&Boolean(r)&&(document.body.style.cursor="grab"),!h.current)throw new Error;if((e==null?void 0:e.status)!=="dragging")return;const x=()=>o(m.actions.finishMoving());h.current.to(p(d({},i),{easing:pt,onFinish:x})),o(m.actions.dragEnd())},onDragStart(){o(m.actions.dragStart())},onDragMove(x){var J,gt;if((e==null?void 0:e.status)==="moving")return;if(!r||!w.current)throw new Error;const B=Ve(R.current),N=x.currentTarget.x()+C.width/2+((J=B==null?void 0:B.x)!=null?J:0),K=x.currentTarget.y()+C.height/2+((gt=B==null?void 0:B.y)!=null?gt:0),F=n.find(O=>O.x<N&&N<O.x+O.width&&O.y<K&&K<O.y+O.height),G=r.childIds.indexOf(s);F&&(F.parent.id!==r.id||F.parent.index!==G&&F.parent.index-1!==G)&&o(m.actions.dragEnter(F.parent))},onDragEnd(){if(document.body.style.cursor="grab",!h.current)throw new Error;const x=()=>o(m.actions.finishMoving());h.current.to(p(d({},i),{easing:pt,onFinish:x})),o(m.actions.dragEnd())}}),Ht=p(d({},l),{onMouseEnter(){M&&o(m.actions.select(void 0))}}),Wt=!Jt&&c(tt,p(d({},Ht),{fill:"#00aaff08"})),Zt=d({},C),qt={text:`${s.slice(0,8)}`,fontSize:14,lineHeight:1.43,x:U,y:U,width:C.width-U*2,height:C.height-U*1.5},Ut=!T&&c(bt,p(d({},qt),{fill:"#fff"})),_t=T&&c(It,{variant:"standard",sx:{position:"absolute",left:0,top:0,width:C.width,height:C.height},InputProps:{sx:{px:.87,py:.8,fontSize:14}},autoFocus:!0,multiline:!0,rows:4,value:E,onChange:x=>o(m.actions.update({id:s,changes:{text:x.target.value}})),onKeyDown:x=>{x.code==="Enter"&&!x.shiftKey&&!x.nativeEvent.isComposing&&o(m.actions.editEnd())}}),Qt=T&&c(et,{variant:"contained",size:"small",sx:{position:"absolute",left:C.width,top:C.height+6,transform:"translate3d(-100%, 0, 0)"},onClick:()=>o(m.actions.editEnd()),children:"OK"}),Vt=r&&M&&c(P,{sx:{position:"absolute",left:$,top:$,p:.5,bgcolor:ht,borderRadius:1},children:c(S,p(d({},{size:"small",onClick:()=>{if(!r)throw new Error;o(m.actions.delete(r))}}),{children:c(we,{fontSize:"inherit"})}))}),Xt={position:"absolute",left:C.width-$,top:$,transform:"translate3d(-100%, 0, 0)",p:.5,bgcolor:ht,borderRadius:1},Yt=M&&c(P,{sx:Xt,children:c(S,p(d({},{size:"small",onClick:()=>{o(m.actions.editStart())}}),{children:c(xe,{fontSize:"inherit"})}))}),te="all 300ms 0s ease",ee=v==="horizontal"?"rotate(-90deg)":void 0,ne=M&&a&&c(S,p(d({},{size:"small",sx:{mr:.5},onClick:()=>{const x=v!=="vertical"?"vertical":"horizontal";o(m.actions.update({id:s,changes:{direction:x}}))}}),{children:c(ye,{fontSize:"inherit",sx:{transition:te,transform:ee}})})),oe={size:"small",onClick:()=>o(m.actions.update({id:s,changes:{open:!a}}))},ie=u.length!==0?c(fe,{color:"primary",variant:"dot",children:c(Ct,{fontSize:"inherit"})}):c(Ct,{fontSize:"inherit"}),re=c(S,p(d({},oe),{children:a?c(me,{fontSize:"inherit"}):ie})),se={position:"absolute",left:C.width-$,top:C.height-$,transform:"translate3d(-100%, -100%, 0)",display:"flex",p:.5,bgcolor:ht,borderRadius:1},ce=(M||!T&&!k&&!a&&u.length!==0)&&b(P,{sx:se,children:[ne,re]});return b(ge,p(d({},jt),{children:[Wt,c(tt,p(d({},Zt),{fill:"#2348"})),Ut,c(Bt,{children:c(nt,{theme:At,children:b(P,{sx:{width:0,height:0,position:"relative"},children:[_t,Qt,Vt,Yt,ce]})})})]}))},Ye=ve("main")(({theme:{breakpoints:t}})=>({height:"calc(100vh - 56px)",[`${t.up("xs")} and (orientation: landscape)`]:{height:"calc(100vh - 48px)"},[t.up("sm")]:{height:"calc(100vh - 64px)"}})),tn=({stageSize:t,entities:n,selected:e,addablePoints:o,dropZones:s})=>c(Ye,{children:c(Ee.Consumer,{children:({store:r})=>c(Qe,{stageSize:t,children:c(ot,{store:r,children:b(be,{children:[s.map(i=>c(_e,{zone:i,selectedStatus:e},`${i.parent.id}: (${i.x},${i.y})`)),n.map(i=>c(Xe,{entity:i,dropZones:s,selectedStatus:e},i.id)),c(Bt,{children:c(nt,{theme:At,children:c(ot,{store:r,children:c(P,{sx:{width:0,height:0,position:"relative"},children:o.map(i=>c(Ue,{point:i},`${i.left}:${i.top}`))})})})})]})})})})}),en=t=>{const{flow:n,selected:e,addablePoints:o,dropZones:s}=t.entity;if(!n)throw new Error;const r=t.entity.entities[n.rootId];if(!r)throw new Error;const{tree:i}=r;if(!i)throw new Error;const{stagePadding:l}=lt,a={width:i.width+l*2,height:i.height+l*2},v=Kt.selectAll(t);return{stageSize:a,entities:v,selected:e,addablePoints:o,dropZones:s}},nn=Pt(en)(tn),Gt=t=>{const n=dt(),e=dt(),o=Ot(e,[],{type:"root"});return{id:n,title:t,rootId:e,entities:[o]}},D=vt(),on=D.getInitialState(),L=Et({name:"flow",initialState:on,reducers:{load(t,{payload:n}){D.addMany(t,n)},add(t,{payload:n}){D.addOne(t,n)},set(t,{payload:n}){D.setOne(t,n)}}}),ut=D.getSelectors(t=>t.flow),rn=()=>{const t=V(),[n,e]=I.exports.useState(null),[o,s]=I.exports.useState(""),r=h=>{e(h.currentTarget)},i=()=>{s(""),e(null)},l=h=>s(h.target.value),a=()=>{const h=Gt(o);t(L.actions.add(h)),s(""),e(null)},v=h=>{if(h.code==="Enter"&&!h.nativeEvent.isComposing){const w=Gt(o);t(L.actions.add(w)),window.setTimeout(()=>{s(""),e(null)},0)}},u=Boolean(n),E=u?"simple-popover":void 0;return b(Y,{children:[c(S,{"aria-describedby":E,onClick:r,children:c(X,{fontSize:"inherit"})}),c(Ie,{id:E,open:u,anchorEl:n,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:b(P,{sx:{p:2},children:[c(It,{id:"create-flow-title",label:"Flow Title",onChange:l,onKeyDown:v,autoFocus:!0,fullWidth:!0}),c(et,{sx:{mt:2},variant:"contained",startIcon:c(X,{}),fullWidth:!0,onClick:a,children:"New Flow"})]})})]})},sn=()=>c(rn,{}),cn=({flows:t})=>c(P,{component:"main",sx:{p:2},children:c(zt,{container:!0,spacing:2,children:t.map(n=>c(zt,{item:!0,xs:6,md:4,lg:3,children:c(Ce,{children:c(Be,{component:Mt,to:q.url({id:n.id}),disableRipple:!0,children:c(Pe,{sx:{height:200},children:c(ze,{children:n.title})})})})},n.id))})}),an=t=>({flows:ut.selectAll(t)}),ln=Pt(an)(cn),dn=()=>b(Rt,{children:[c(H,{path:ct.path,exact:!0,children:c(ln,{})}),c(H,{path:q.path,children:c(nn,{})})]}),hn=it("div")(({theme:t})=>({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Tt(t.palette.common.white,.15),"&:hover":{backgroundColor:Tt(t.palette.common.white,.25)},marginLeft:0,width:"100%",[t.breakpoints.up("sm")]:{width:"auto"}})),pn=it("div")(({theme:t})=>({padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"})),un=it(Me)(({theme:t})=>({color:"inherit",width:"100%","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:`calc(1em + ${t.spacing(4)})`,transition:t.transitions.create("width"),width:"100%",[t.breakpoints.up("md")]:{width:"20ch"}}})),fn=()=>c(Re,{position:"static",children:b(Te,{children:[b(P,{sx:{display:{xs:"none",sm:"flex"}},children:[c(et,{component:Mt,to:ct.path,size:"large",children:"Task Flow"}),c(ke,{orientation:"vertical",flexItem:!0,variant:"middle",sx:{mx:1}})]}),b(Rt,{children:[c(H,{path:ct.path,exact:!0,children:c(sn,{})}),c(H,{path:q.path,children:c(Ze,{})})]}),c(P,{sx:{flexGrow:1,pl:1}}),b(hn,{children:[c(pn,{children:c(Ae,{})}),c(un,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]})]})}),gn=()=>b(Y,{children:[c(fn,{}),c(dn,{})]}),_="flows";function*wn(){const t=localStorage.getItem(_),n=t?JSON.parse(t):[];yield W(L.actions.load(n))}function*xn(){for(;;){const{payload:t}=yield rt(L.actions.add.toString()),n=localStorage.getItem(_),e=n?JSON.parse(n):[];localStorage.setItem(_,JSON.stringify(e.concat(t)))}}function*yn(){for(;;){const{type:t}=yield rt("*");if(t.startsWith("flow-entity")){const n=yield st(),{flow:e}=n.entity;if(!e)throw new Error;const o=Kt.selectAll(n);yield W(L.actions.set(p(d({},e),{entities:o})));const s=yield st(ut.selectAll);localStorage.setItem(_,JSON.stringify(s))}}}function*mn(){for(;;){yield rt(Oe);const t=yield st(),n=q.matchSelector(t);if(!n||!n.isExact)continue;const e=ut.selectById(t,n.params.id);if(!e){yield W(Fe("/"));continue}yield W(m.actions.setFlow(e))}}function*vn(){yield Z(mn),yield Z(wn),yield Z(xn),yield Z(yn)}const ft=Se(),En=$e({router:Le(ft),flow:L.reducer,entity:m.reducer}),bn=()=>{const t=De(ft),n=Ne(),e=Ke({reducer:En,middleware:o=>o({thunk:!1}).concat([t,n])});return n.run(vn),e},In=bn(),Cn=()=>c(ot,{store:In,children:c(Je,{history:ft,children:b(nt,{theme:We,children:[c(je,{}),c(gn,{})]})})});Ge.exports.render(c(Cn,{}),document.querySelector("#root"));
